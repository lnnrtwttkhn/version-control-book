<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Git Essentials ‚Äì The Version Control Book</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/branches.html" rel="next">
<link href="../chapters/first-steps-git.html" rel="prev">
<link href="../static/logo.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dd08061cb7210c315e315379d94beb87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d2736ee551af72d259281192c279f39b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script src="../site_libs/quarto-contrib/kbd/kbd.js"></script>
<link href="../site_libs/quarto-contrib/kbd/kbd.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async="" defer="" src="https://buttons.github.io/buttons.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/git-essentials.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Git Essentials</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../static/logo.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Version Control Book</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://lennartwittkuhn.com/version-control-book" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-globe"></i></a>
    <a href="https://github.com/lnnrtwttkhn/version-control-book/issues" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-bug"></i></a>
    <a href="https://github.com/lnnrtwttkhn/version-control-book/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../contents.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contents</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/objectives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning Objectives</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/intro-version-control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/command-line.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Command Line</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Installation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Setup</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/first-steps-git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">First steps with Git</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/git-essentials.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Git Essentials</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/branches.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Branches</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/remotes-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Remotes: Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/github-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">GitHub: Advanced</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/tags-and-releases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Tags and Releases</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/issues.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Issues</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/gui.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Graphical User Interfaces</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/rewriting-history.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Rewriting History</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/exercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exercises</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/cheatsheet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cheatsheet</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/courses.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Courses</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/acknowledgements.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Acknowledgements</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../misc/contributing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Contributing</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#good-commits" id="toc-good-commits" class="nav-link active" data-scroll-target="#good-commits"><span class="header-section-number">6.1</span> Good commits</a>
  <ul class="collapse">
  <li><a href="#commit-often" id="toc-commit-often" class="nav-link" data-scroll-target="#commit-often"><span class="header-section-number">6.1.1</span> Commit often</a></li>
  <li><a href="#keep-commits-small" id="toc-keep-commits-small" class="nav-link" data-scroll-target="#keep-commits-small"><span class="header-section-number">6.1.2</span> Keep commits small</a></li>
  <li><a href="#use-meaningful-commit-messages" id="toc-use-meaningful-commit-messages" class="nav-link" data-scroll-target="#use-meaningful-commit-messages"><span class="header-section-number">6.1.3</span> Use <em>meaningful</em> commit messages</a></li>
  <li><a href="#write-commits-that-explain-why-changes-were-made" id="toc-write-commits-that-explain-why-changes-were-made" class="nav-link" data-scroll-target="#write-commits-that-explain-why-changes-were-made"><span class="header-section-number">6.1.4</span> Write commits that explain <em>why</em> changes were made</a></li>
  <li><a href="#start-with-an-imperative-verb" id="toc-start-with-an-imperative-verb" class="nav-link" data-scroll-target="#start-with-an-imperative-verb"><span class="header-section-number">6.1.5</span> Start with an imperative verb</a></li>
  <li><a href="#stage-changes-selectively" id="toc-stage-changes-selectively" class="nav-link" data-scroll-target="#stage-changes-selectively"><span class="header-section-number">6.1.6</span> Stage changes selectively</a></li>
  <li><a href="#review-your-changes-before-committing" id="toc-review-your-changes-before-committing" class="nav-link" data-scroll-target="#review-your-changes-before-committing"><span class="header-section-number">6.1.7</span> Review your changes before committing</a></li>
  <li><a href="#reference-issue-numbers" id="toc-reference-issue-numbers" class="nav-link" data-scroll-target="#reference-issue-numbers"><span class="header-section-number">6.1.8</span> Reference issue numbers</a></li>
  <li><a href="#avoid-committing-sensitive-information" id="toc-avoid-committing-sensitive-information" class="nav-link" data-scroll-target="#avoid-committing-sensitive-information"><span class="header-section-number">6.1.9</span> Avoid committing sensitive information</a></li>
  </ul></li>
  <li><a href="#logging-commits" id="toc-logging-commits" class="nav-link" data-scroll-target="#logging-commits"><span class="header-section-number">6.2</span> Logging commits</a></li>
  <li><a href="#comparing-versions" id="toc-comparing-versions" class="nav-link" data-scroll-target="#comparing-versions"><span class="header-section-number">6.3</span> Comparing versions</a></li>
  <li><a href="#commit-hashes" id="toc-commit-hashes" class="nav-link" data-scroll-target="#commit-hashes"><span class="header-section-number">6.4</span> Commit hashes</a></li>
  <li><a href="#amending-a-commit" id="toc-amending-a-commit" class="nav-link" data-scroll-target="#amending-a-commit"><span class="header-section-number">6.5</span> Amending a commit</a></li>
  <li><a href="#partial-commits" id="toc-partial-commits" class="nav-link" data-scroll-target="#partial-commits"><span class="header-section-number">6.6</span> Partial commits</a></li>
  <li><a href="#ignoring-files-and-folders-.gitignore" id="toc-ignoring-files-and-folders-.gitignore" class="nav-link" data-scroll-target="#ignoring-files-and-folders-.gitignore"><span class="header-section-number">6.7</span> Ignoring files and folders: <code>.gitignore</code></a>
  <ul class="collapse">
  <li><a href="#global-.gitignore-file" id="toc-global-.gitignore-file" class="nav-link" data-scroll-target="#global-.gitignore-file"><span class="header-section-number">6.7.1</span> Global <code>.gitignore</code> file</a></li>
  </ul></li>
  <li><a href="#renaming-files-with-git" id="toc-renaming-files-with-git" class="nav-link" data-scroll-target="#renaming-files-with-git"><span class="header-section-number">6.8</span> Renaming files with Git</a></li>
  <li><a href="#tracking-empty-folders" id="toc-tracking-empty-folders" class="nav-link" data-scroll-target="#tracking-empty-folders"><span class="header-section-number">6.9</span> Tracking empty folders</a></li>
  <li><a href="#cheatsheet" id="toc-cheatsheet" class="nav-link" data-scroll-target="#cheatsheet"><span class="header-section-number">6.10</span> Cheatsheet</a></li>
  <li><a href="#acknowledgements-further-reading" id="toc-acknowledgements-further-reading" class="nav-link" data-scroll-target="#acknowledgements-further-reading"><span class="header-section-number">6.11</span> Acknowledgements &amp; further reading</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/lnnrtwttkhn/version-control-book/edit/main/chapters/git-essentials.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/lnnrtwttkhn/version-control-book/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/lnnrtwttkhn/version-control-book/blob/main/chapters/git-essentials.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Git Essentials</span></h1>
  <div class="quarto-categories">
    <div class="quarto-category">beginner</div>
    <div class="quarto-category">basics</div>
  </div>
  </div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">About this chapter</div>
    <p>In this chapter, you will learn how to explore the commit history, compare different commits and let Git ignore certain files. You will also learn more about which files can (not) be tracked well with Git and why.</p>
  </div>
</div>


</header>


<div class="callout callout-style-simple callout-tip no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<h5 class="anchored">
Learning Objectives
</h5>
<p><span class="emoji" data-emoji="bulb">üí°</span> You know how to explore the commit history<br> <span class="emoji" data-emoji="bulb">üí°</span> You can compare different commits<br> <span class="emoji" data-emoji="bulb">üí°</span> You know how to use and create a <code>.gitignore</code> file<br> <span class="emoji" data-emoji="bulb">üí°</span> You can discuss which files can (not) be tracked well with Git and why<br> <span class="emoji" data-emoji="bulb">üí°</span> You know how to track empty folders in Git repositories</p>
</div>
</div>
</div>
<p><a href="https://version-control-basics.formr.org" class="btn btn-outline-secondary" role="button"><i class="fa-circle-question fa-regular" aria-label="regular"></i> Take the quiz!</a></p>
<section id="good-commits" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="good-commits"><span class="header-section-number">6.1</span> Good commits</h2>
<p>Now that you know how to create a Git repository, stage files, and make commits, it‚Äôs time to discuss some good practices for Git commits.</p>
<section id="commit-often" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="commit-often"><span class="header-section-number">6.1.1</span> Commit often</h3>
<p>Creating frequent commits helps to capture your work progress. This makes it easier to track changes, identify when errors were introduced, or revert to a previous version of your project if something goes wrong. You can think of committing like saving your game in a video game (or rock climbing, see <a href="#nte-rock-climbing-analogy" class="quarto-xref">Note&nbsp;<span>6.1</span></a>). You want to create saves (commits) regularly so that if you encounter an issue, you don‚Äôt lose too much progress.</p>
<div id="nte-rock-climbing-analogy" class="callout callout-style-default callout-note callout-titled" title="The rock climbing analogy of Git commits">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;6.1: The rock climbing analogy of Git commits
</div>
</div>
<div class="callout-body-container callout-body">
<p>Using Git commits can be compared to rock climbing:</p>
<blockquote class="blockquote">
<p>Using a Git commit is like using anchors and other protection when climbing. If you‚Äôre crossing a dangerous rock face you want to make sure you‚Äôve used protection to catch you if you fall. Commits play a similar role: if you make a mistake, you can‚Äôt fall past the previous commit. Coding without commits is like free-climbing: you can travel much faster in the short-term, but in the long-term the chances of catastrophic failure are high! Like rock climbing protection, you want to be judicious in your use of commits. Committing too frequently will slow your progress; use more commits when you‚Äôre in uncertain or dangerous territory. Commits are also helpful to others, because they show your journey, not just the destination.</p>
</blockquote>
<p>from <a href="http://r-pkgs.had.co.nz/git.html#git-commit">R Packages by Hadley Wickham</a></p>
</div>
</div>
</section>
<section id="keep-commits-small" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="keep-commits-small"><span class="header-section-number">6.1.2</span> Keep commits small</h3>
<p>You should <em>not</em> consider a commit as a general ‚ÄúSave‚Äù button, that you use to save all your recent changes in one go. Instead, each commit should ideally contain one isolated and complete change. This makes your project history easier to follow.</p>
<p>For example, if you want to rename a variable and add a new enhancement, put the variable rename in one commit and the enhancement in another commit.</p>
<p>This approach to commits helps you down the line. For example, if you want to keep the enhancement but revert the renaming of the variable, you can revert the specific commit that contained the variable rename. If you put the variable rename and the enhancement in the same commit or spread the variable rename across multiple commits, you would spend more effort reverting your changes.</p>
</section>
<section id="use-meaningful-commit-messages" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="use-meaningful-commit-messages"><span class="header-section-number">6.1.3</span> Use <em>meaningful</em> commit messages</h3>
<p>Git allows for a commit message with a 72 character limit and a description without such a limit. In general, you should aim to write clear and short commit messages (ideally under 50 characters), yet descriptive enough to clarify the purpose of the commit. There are different conventions across projects/persons but also some general guidelines, you can stick to.</p>
<p>It‚Äôs helpful to think about future you or others looking at this project later. Will they understand what this commit was about without having to look at the actual changes?</p>
<p>For example, <code>Fix typo in README</code> would be more descriptive as a commit message than <code>Update files</code>. If more detail is necessary, you can use the option to add a longer description to the commit (as we discussed earlier).</p>
</section>
<section id="write-commits-that-explain-why-changes-were-made" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="write-commits-that-explain-why-changes-were-made"><span class="header-section-number">6.1.4</span> Write commits that explain <em>why</em> changes were made</h3>
<p>Instead of just stating <em>what you did</em> in a commit, it‚Äôs even more helpful to explain <em>why</em> you made those changes. The ‚Äúwhy‚Äù gives important context, especially when reviewing older commits.</p>
<p>For example, use <code>Adjust participant exclusion criteria to improve data quality</code> instead of <code>Change participant exclusion criteria</code>.</p>
</section>
<section id="start-with-an-imperative-verb" class="level3" data-number="6.1.5">
<h3 data-number="6.1.5" class="anchored" data-anchor-id="start-with-an-imperative-verb"><span class="header-section-number">6.1.5</span> Start with an imperative verb</h3>
<p>It is standard to <strong>start the commit message with an imperative verb</strong> to indicate the purpose of the commit, for example, ‚ÄúAdd‚Äù, ‚ÄúFix‚Äù or ‚ÄúImprove‚Äù. Here is an example:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Example</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Implement user registration feature</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">This commit adds the user registration functionality to the application. It includes the following changes:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">- Created a new 'register' route and view for user registration.</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">- Added form validation for user input."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>An example of commit messages, which are not really optimal, are illustrated in <a href="#fig-bad_commits_comic" class="quarto-xref">Figure&nbsp;<span>6.1</span></a>.</p>
<div id="fig-bad_commits_comic" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bad_commits_comic-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../static/xkcd-git-commit.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bad_commits_comic-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: ‚ÄúGit Commit‚Äù by <a href="https://xkcd.com/1296/">xkcd</a> (License: <a href="https://xkcd.com/license.html">CC BY-NC 2.5</a>)
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Commit messages examples">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Commit messages examples
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Some examples for commit messages, which stick to the etiquette:</p>
<ul>
<li><code>"Add 'favourites.txt' to the project"</code></li>
<li><code>"Fix typo in first recipe"</code></li>
<li><code>"Improve code comments for clarity"</code></li>
<li><code>"Fix critical security vulnerability (CVE-2022-1234)"</code></li>
<li><code>"Refactor database query functions for efficiency"</code></li>
<li><code>"Update installation instructions in README"</code></li>
</ul>
</div>
</div>
</div>
</section>
<section id="stage-changes-selectively" class="level3" data-number="6.1.6">
<h3 data-number="6.1.6" class="anchored" data-anchor-id="stage-changes-selectively"><span class="header-section-number">6.1.6</span> Stage changes selectively</h3>
<p>Only stage and commit files you actually want Git to track. You can use <code>git status</code> to double-check what files you have staged. You can stage files selectively using <code>git add</code> to avoid committing unnecessary files (like temporary files or configuration files specific to your system). Using a <code>.gitignore</code> file to prevent certain files from being tracked by Git is also a good idea (for details, see below).</p>
<p>In principle, any file can be tracked with Git. However, to make use of the full potential of Git, it is recommended to <strong>mainly track plain text files</strong> with Git. For recommendations on which file to track or <em>not</em> track with Git, see <a href="#tip-track" class="quarto-xref">Tip&nbsp;<span>6.1</span></a> and <a href="#tip-not-track" class="quarto-xref">Tip&nbsp;<span>6.2</span></a>, respectively.</p>
<div id="tip-track" class="callout callout-style-default callout-tip callout-titled" title="Which files can I track with Git?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;6.1: Which files can I track with Git?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<section id="code-files" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="code-files">Code files</h4>
<p>Tracking code files is the most common and original use case for version control with Git. Git is well-suited for tracking changes in source code, and it‚Äôs widely used by developers and teams for this purpose. Whether it‚Äôs a single developer maintaining a personal project or a large team collaborating on a complex software system, Git excels at tracking code files throughout the development lifecycle.</p>
</section>
<section id="plain-textfiles" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="plain-textfiles">Plain textfiles</h4>
<p>Git is a useful tool even if your project contains few or no code at all, especially in comparison to a setup that uses emails or shared Dropbox folders for ‚Äúversion control‚Äù (see the <a href="../chapters/intro-version-control.html">introduction</a> chapter). However, to really be able to use the full set of features of Git, you should rely on plain text files for your project. This is because <code>.docx</code> files are saved as binary files, which makes meaningful outputs of the text inside it impossible for Git. ‚ÄúPlain textfiles‚Äù does not mean you have to use <code>.txt</code> files. Instead you can use formattable Markdown (<code>.md</code>) files. Markdown (<code>.md</code>) files are plain text files that contain formatting elements, making them more versatile than plain .txt files. Markdown allows you to add simple formatting like headings, lists, links, and images.</p>
</section>
</div>
</div>
</div>
<div id="tip-not-track" class="callout callout-style-default callout-tip callout-titled" title="Which files should I *not* track with Git?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;6.2: Which files should I <em>not</em> track with Git?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<section id="microsoft-office-files" class="level4 unnumbered callout-body-container callout-body">
<h4 class="unnumbered anchored" data-anchor-id="microsoft-office-files">Microsoft Office files</h4>
<p>As said earlier, it is not recommended to track Microsoft office files using Git, since Git treats <code>.docx</code> files as binary files. Binary files lack the inherent structure that allows Git to capture and display changes effectively. Git relies on understanding the differences between versions of files. With binary files, you won‚Äôt benefit from the ability to view detailed textual differences (<code>git diff</code>) or effectively use <a href="../chapters/branches.html">branches</a>. Collaborative work on binary files, such as simultaneous editing of a Word document, may result in complex <a href="../chapters/branches.html">merge conflicts</a> that are challenging to resolve.</p>
<p>So while it is possible to track <code>.docx</code> files with Git, you will not be able to use the many features of Git, which rely on Git being able to display the file, since Git can only output the ‚Äúzeros and ones‚Äù and not the text inside the <code>.docx</code> files.</p>
<p>If you ever choose to track them regardless, you should use detailed commit messages, since you will not be able to easily look at the text content of past versions. You will also need to know about temporary word files. For it‚Äôs own version control system, Word creates temporary files in the folder of your word file. You should not track these files using Git, since Word creates a lot of them. To not stage or commit these files by accident, you can use the <code>.gitignore</code> file.</p>
</section>
</div>
</div>
</section>
<section id="review-your-changes-before-committing" class="level3" data-number="6.1.7">
<h3 data-number="6.1.7" class="anchored" data-anchor-id="review-your-changes-before-committing"><span class="header-section-number">6.1.7</span> Review your changes before committing</h3>
<p>Before committing your changes, it‚Äôs a good habit to review the differences between your working directory and the staged files using <code>git diff</code> (for details, see below). This ensures that you‚Äôre aware of every change you‚Äôre about to commit.</p>
</section>
<section id="reference-issue-numbers" class="level3" data-number="6.1.8">
<h3 data-number="6.1.8" class="anchored" data-anchor-id="reference-issue-numbers"><span class="header-section-number">6.1.8</span> Reference issue numbers</h3>
<p>If your project is connected to an issue tracker system (like GitHub Issues), it‚Äôs helpful to reference issue numbers in your commit messages. This makes it easy to trace which commit addressed a particular issue. For an intro about GitHub Issues, refer to our <a href="../chapters/issues.html">Issues chapter</a>. For example:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Fix login bug (fixes #42)"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>This message indicates that the commit addresses issue number 42 in your issue tracker.</p>
</section>
<section id="avoid-committing-sensitive-information" class="level3" data-number="6.1.9">
<h3 data-number="6.1.9" class="anchored" data-anchor-id="avoid-committing-sensitive-information"><span class="header-section-number">6.1.9</span> Avoid committing sensitive information</h3>
<p>Be careful not to commit sensitive information such as passwords or personal data. Once something is committed, it becomes part of the repository‚Äôs history, making it difficult to completely remove later.</p>
<p>You can use <code>.gitignore</code> files to exclude sensitive files from being tracked (details below).</p>
</section>
</section>
<section id="logging-commits" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="logging-commits"><span class="header-section-number">6.2</span> Logging commits</h2>
<p>To look at the history of your past commits, you can use the <code>git log</code> command.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>You should see output similar to the following:</p>
<div class="cell" data-code-copy="false">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Output</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-4"><pre class="sourceCode zsh code-annotation-code code-with-copy code-annotated"><code class="sourceCode zsh"><a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-1" class="code-annotation-target"><a href="#annotated-cell-4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">commit</span> e9ea80781ceed7cc3d6bff0c7bfa71f320ec1f60 <span class="pp">(</span><span class="ss">HEAD -&gt; main</span><span class="pp">)</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-4-2" class="code-annotation-target"><a href="#annotated-cell-4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Author:</span> Jane Doe <span class="op">&lt;</span>jane@example.com<span class="op">&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-4-3" class="code-annotation-target"><a href="#annotated-cell-4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Date:</span>   Thu Jun 29 12:23:53 2023 +0200</span>
<span id="annotated-cell-4-4"><a href="#annotated-cell-4-4" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-4-5" class="code-annotation-target"><a href="#annotated-cell-4-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Add</span> filename.txt file</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="1" data-code-annotation="1">This line shows the unique identifier (commit hash) for this specific change in the code. The <code>HEAD -&gt; main</code> part indicates that this commit is the latest one on the <code>main</code> branch of the repository.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="2" data-code-annotation="2">This line tells us who made the change and the email address of the author. This is the information specified using <code>git config</code> (for details, see the <a href="../chapters/setup.html">setup</a> chapter).</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="3" data-code-annotation="3">This line provides the date and time when the change was made.</span>
</dd>
<dt data-target-cell="annotated-cell-4" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="5" data-code-annotation="4">This line is the commit message provided by the author, which briefly describes what this change does.</span>
</dd>
</dl>
</div>
</div>
<p><code>git log</code> is a very useful command because it provides a clear and organized view of a repository‚Äôs commit history. It allows you to understand the evolution of a project over time by showing detailed information about each commit, including changes made, authors, and timestamps.</p>
<p>To exit the <code>git log</code>view and return to the regular Terminal, press the <kbd aria-hidden="true">q</kbd><span class="visually-hidden">q</span> key. This applies to both macOS and Windows systems.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Common `git log` flags">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common <code>git log</code> flags
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>--oneline</code>: Provides a condensed output with each commit displayed on a single line, showing the abbreviated commit hash and commit message.</p>
<p><code>-n</code> <number> or <code>--max-count=</code><number>: Limits the number of commits shown to the specified <number>. For example, git log -n 5 will display the latest 5 commits.</number></number></number></p>
<p><code>--since=</code><date>: Shows commits made after the specified <date>. You can use various date formats, such as specific dates or relative expressions like ‚Äú2 weeks ago‚Äù or ‚Äúyesterday‚Äù.</date></date></p>
<p><code>--until=</code><date>: Shows commits made before the specified <date>.</date></date></p>
<p><code>--author=</code><pattern>: Filters commits by the author‚Äôs name or email using a specified <pattern>.</pattern></pattern></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="What is `HEAD`?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is <code>HEAD</code>?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>HEAD</code> can be thought as the current spot in your project‚Äôs timeline, like a bookmark. When you see <code>HEAD -&gt; main</code>, it means your bookmark is on the <code>main</code> branch, usually at the most recent update. It moves with each commit you make, staying always at the forefront of your project‚Äôs development. When you switch branches with a command like <code>git switch</code>, <code>HEAD</code> moves to point to the tip of the new branch, changing the context of your working directory to reflect the latest commit on that branch. <code>HEAD</code> is used in many Git commands to reference the current commit. For example, <code>git reset HEAD</code> is a command used to unstage changes by moving the current branch‚Äôs tip back to <code>HEAD</code>, without altering the working directory. Similarly, <code>git checkout HEAD~1</code> will move <code>HEAD</code> back one commit as a way to look at or revert to a previous state of the project without making any changes to the branch itself.</p>
</div>
</div>
</div>
</section>
<section id="comparing-versions" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="comparing-versions"><span class="header-section-number">6.3</span> Comparing versions</h2>
<p>Another very handy feature is the <code>git diff</code> command. It allows you to <strong>compare two different versions of your file(s)</strong>.</p>
<p>By default it shows you any uncommitted changes since the last commit. You can explore this by pasting any additional text in your <code>.txt</code> file, for example:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>You can then look at the changes using:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>You should see an output similar to the following:</p>
<div class="cell" data-code-copy="false">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Output</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">+++</span> b/filename.txt</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">@@</span> <span class="at">-0,0</span> +1 @@</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">+Lorem</span> ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">\ No</span> newline at end of file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>The output of <code>git diff</code> includes several pieces of information:</p>
<ul>
<li><code>+++</code> and <code>---</code> indicate the paths to the files being compared.</li>
<li><code>@@ -0,0 +1 @@</code> is a unified diff header. It shows where the changes occurred. Note, that this line will look different for each change or commit.</li>
<li><code>+</code> indicates added lines and <code>-</code> indicates removed lines. Lines that are identical between the two versions are not explicitly shown.</li>
</ul>
<p>You can also use <code>git diff</code> to <strong>compare two specific commits</strong>. For example, if you want to compare the current state of your file with a commit from a few commits ago:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-8"><pre class="sourceCode zsh code-annotation-code code-with-copy code-annotated"><code class="sourceCode zsh"><a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-8-1" class="code-annotation-target"><a href="#annotated-cell-8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff <span class="op">&lt;</span>commit-A<span class="op">&gt;</span> <span class="op">&lt;</span>commit-B<span class="op">&gt;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-8" data-code-lines="1" data-code-annotation="1">Instead of <code>&lt;commit-A&gt;</code> and <code>&lt;commit-B&gt;</code>, you use the commit hashes, that you can see when using <code>git log</code>.</span>
</dd>
</dl>
</div>
</div>
<p>If you‚Äôve staged some changes using <code>git add</code>, you can <strong>compare the staged changes to your last commit</strong>.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff <span class="at">--staged</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>If you only want to look at the changes of a specific file, you can specify that file.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-10"><pre class="sourceCode zsh code-annotation-code code-with-copy code-annotated"><code class="sourceCode zsh"><a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-10-1" class="code-annotation-target"><a href="#annotated-cell-10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff <span class="op">&lt;</span>filename<span class="op">&gt;</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="1" data-code-annotation="1">Replace <code>&lt;filename&gt;</code> with the actual name of the file that you want to inspect.</span>
</dd>
</dl>
</div>
</div>
<p>This command can also be combined with additional flags and options.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Common `git diff` flags">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common <code>git diff</code> flags
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>--cached</code> or <code>--staged</code>: Shows the changes that are staged (added) but not yet committed.</p>
<p><code>&lt;commit&gt;</code>: Displays the difference between the current working directory and a specific commit. For example, <code>git diff abc123</code> shows the changes compared to commit <code>abc123</code>.</p>
<p><code>&lt;commit&gt; .. &lt;commit&gt;</code>: Shows the difference between two specific commits. For example, <code>git diff abc123 def456</code> displays the changes between commit <code>abc123</code> and commit <code>def456</code>.</p>
<p><code>--name-only</code>: Outputs only the names of the files that have differences, without showing the actual changes.</p>
<p><code>--name-status</code>: Displays the names of files along with a status identifier that indicates if a file was added, modified, or deleted.</p>
<p><code>--color-words</code>: Highlights the differences at the word level, providing more granular detail.</p>
</div>
</div>
</div>
</section>
<section id="commit-hashes" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="commit-hashes"><span class="header-section-number">6.4</span> Commit hashes</h2>
<p>To compare the changes between two commits, you can use <code>git diff</code> followed by the commit hashes of the two points in history you‚Äôre interested in comparing. A commit hash is akin to a unique fingerprint for each commit you make to your repository. This hash is a long string of characters generated by Git using a cryptographic hash function (specifically <a href="https://de.wikipedia.org/wiki/Secure_Hash_Algorithm">SHA-1</a>, though Git is transitioning to SHA-256 for enhanced security). The purpose of this hash is to uniquely identify every single change set or commit in the history of your repository. Think of it as a precise identifier that Git uses to track the specific state of your project at the moment of each commit. Every commit hash is unique. Even the slightest change results in a completely different hash.</p>
</section>
<section id="amending-a-commit" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="amending-a-commit"><span class="header-section-number">6.5</span> Amending a commit</h2>
<p>The <code>git commit --amend</code> command is used to modify (or ‚Äúamend‚Äù) your most recent Git commit in your repository. It allows you to edit the commit message, add more changes to the commit, or simply adjust the last commit without creating a new commit. This flag can be useful if you forgot to include something in your last commit, made a typo or want to change your commit message. You can also combine <code>--amend</code> with other flags. To change the commit message of your last commit (without opening an editor) try:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-11"><pre class="sourceCode zsh code-annotation-code code-with-copy code-annotated"><code class="sourceCode zsh"><a class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-11-1" class="code-annotation-target"><a href="#annotated-cell-11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">--amend</span> <span class="at">-m</span> <span class="st">"changed commit message"</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="1" data-code-annotation="1">Replace <code>"changed commit message"</code> with your actual improved commit message.</span>
</dd>
</dl>
</div>
</div>
<p>If you want to to keep your commit message but include new changes to your file(s) in you last commit, you can use:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">--amend</span> <span class="at">--no-edit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>The <code>--no-edit</code> flag, lets you keep the commit message of your most recent commit.</p>
<section id="the-repeated---amend-workflow" class="level4" data-number="6.5.0.1">
<h4 data-number="6.5.0.1" class="anchored" data-anchor-id="the-repeated---amend-workflow"><span class="header-section-number">6.5.0.1</span> The repeated <code>--amend</code> workflow</h4>
<p>Let‚Äôs consider the following part of the rock climbing analogy for commits again (for the full analogy, see <a href="#nte-rock-climbing-analogy" class="quarto-xref">Note&nbsp;<span>6.1</span></a>):</p>
<blockquote class="blockquote">
<p>use more commits when you‚Äôre in uncertain or dangerous territory.</p>
</blockquote>
<p>The ‚Äúrepeated amend‚Äù is a Git workflow where you avoid cluttering your history with numerous tiny commits. Instead, you gradually build up a ‚Äúgood‚Äù commit by amending it repeatedly. Continue making small changes and amending the existing commit, refining it over time. This method keeps your Git history useful and looking good, making sure your commits tell a straightforward story of how your project evolved.</p>
<p>This workflow can be useful when you‚Äôre working on a new feature or a significant change and you might make several small adjustments to get it right. Instead of cluttering your history with numerous tiny commits for each tweak, you can use the ‚Äúrepeated amend‚Äù to gradually build up a well-polished commit that includes the entire feature.</p>
</section>
</section>
<section id="partial-commits" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="partial-commits"><span class="header-section-number">6.6</span> Partial commits</h2>
<p>Git allows you to make partial commits by staging only specific parts of your file before committing. This can be achieved using <code>git add</code> with the <code>-p</code> or <code>--patch</code> option, which allows you to interactively choose which changes to stage.</p>
<p>To try this make some changes to your file(s) and use:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add <span class="at">-p</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>This will prompt you with each change, giving you options to stage, skip, or split the changes. You‚Äôll see a series of prompts like this:</p>
<div class="cell" data-code-copy="false">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Output</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span> Example text ...</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="ex">1/x</span><span class="kw">)</span> <span class="ex">Stage</span> this hunk <span class="pp">[</span><span class="st">y,n,q,a,d,e,?</span><span class="pp">]?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>These prompt options respectively stand for:</p>
<ul>
<li><code>y</code>: Stage this hunk.</li>
<li><code>n</code>: Do not stage this hunk.</li>
<li><code>q</code>: Quit. Do not stage this hunk or any remaining hunks.</li>
<li><code>a</code>: Stage this hunk and all later hunks in the file.</li>
<li><code>d</code>: Do not stage this hunk or any later hunks in the file.</li>
<li><code>/</code>: Search for a hunk matching the given regex.</li>
<li><code>e</code>: Manually edit the current hunk.</li>
<li><code>?</code>: Print help.</li>
</ul>
<p>Type one of the symbols in the command line to proceed in the desired manner.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="What is a &quot;hunk&quot;?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is a ‚Äúhunk‚Äù?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In Git, a ‚Äúhunk‚Äù refers to a distinct block of code changes within a file. It represents a cohesive set of added, modified, or deleted lines in a specific location. Git automatically divides changes into hunks to facilitate easier review, selective staging, and conflict resolution during version control operations.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Our recommendation: Use a GUI for partial commits">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Our recommendation: Use a GUI for partial commits
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>In our opinion, using partial commits on the command line is a bit of a hassle. This would be a good use case for a Git Graphical User Interface (GUI). To checkout how to do partial commits using <a href="https://www.gitkraken.com">GitKraken</a> checkout the <a href="../chapters/gui.html">GUI chapter</a> in this book.</p>
</div>
</div>
</div>
</section>
<section id="ignoring-files-and-folders-.gitignore" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="ignoring-files-and-folders-.gitignore"><span class="header-section-number">6.7</span> Ignoring files and folders: <code>.gitignore</code></h2>
<p><code>.gitignore</code> is a special file. It is used to specify files and folders that should be ignored and not tracked by Git. When you create a <code>.gitignore</code> file, place it inside your Git repository and specify names of files or folders inside it. Git will then exclude these files and directories from being staged or committed, for example when using <code>git add -A</code> which normally stages all your files. The <code>.gitignore</code> file does not have a file extension like <code>.txt</code> and is simply named <code>.gitignore</code>.</p>
<p>The <code>.gitignore</code> file is useful to prevent certain files or directories that are not essential for the project or generated during the development process from being included in the version history. Files that can recreated from the code, like for example <code>.png</code> plots from R code, should also be included in your project‚Äôs <code>.gitignore</code> file. Including only essential files in version control keeps your repository clean, making it easier for collaborators to focus on the important project files without distractions from unnecessary files. <code>.gitignore</code> can also help you avoid accidentally committing sensitive information like passwords, API keys, or personal data, which can lead to serious privacy breaches. Huge files, like big data files should also not be committed, since they can slow down working with your repository. To version control files with a big size, tools like <a href="https://www.datalad.org">DataLad</a> are more appropriate.</p>
<p>To create a <code>.gitignore</code> file from the command line, navigate to your repository and use the <code>touch</code> command. Alternatively, create the file in your favorite text editor.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> .gitignore</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><code>.gitignore</code> will be a hidden file, so to make it show up in the command line, you will have to use the <code>-a</code> flag in the <code>ls</code> command. For details on listing of files and folders, see the chapter on the <a href="../chapters/command-line.html">command line</a>.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-a</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Now you can write a filename or folder name inside it, to prevent Git from tracking it. If you specify a folder, git will also start to ignore every subfolder in it.</p>
<p>It‚Äôs recommended to add a project-specific <code>.gitignore</code> file to your repository using the regular stage-commit workflow that you learned about in this chapter, for example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .gitignore</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add .gitignore"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="global-.gitignore-file" class="level3" data-number="6.7.1">
<h3 data-number="6.7.1" class="anchored" data-anchor-id="global-.gitignore-file"><span class="header-section-number">6.7.1</span> Global <code>.gitignore</code> file</h3>
<p>Instead of specifying files you want Git to ignore for each folder, you can also create a global <code>.gitignore</code> file. To do this, you create a file named <code>.gitignore_global</code> (or any name you prefer) in your users‚Äôs home directory (located, for example, at <code>/Users/yourusername</code>). Then, you configure Git to use this global file by running:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> core.excludesfile ~/.gitignore_global</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>After this setup, you can add common files to this list, that you want to ignore. These rules will apply across to <em>all</em> Git repositories on your computer.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Common wildcards">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common wildcards
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>As discussed in the <a href="../chapters/command-line.html">command line chapter</a> wildcards are special characters that represent patterns of filenames or directory names. They can be used to specify multiple files or directories that should be ignored by Git when tracking changes. Wildcards allow you to match multiple files with a single rule, making it more convenient to exclude specific types of files or patterns.</p>
<p><code>*</code>: Matches any number of characters within a filename. For example, *.txt will match all files with the extension .txt in any directory.</p>
<p><code>?</code>: Matches a single character within a filename. For example, image?.png will match files like image1.png or imageA.png.</p>
<p><code>/</code>: Matches the root directory of the repository. For example, /config will match a directory named config only in the root of the repository.</p>
<p><code>[]</code> (Square Brackets): Matches any single character within the brackets. For example, file[123].txt will match file1.txt, file2.txt, or file3.txt.</p>
<p><code>!</code>: Negates a pattern and includes files that would otherwise be ignored. For example, !important.txt will exclude important.txt from being ignored, even if there‚Äôs a wildcard pattern that matches it.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Common files to ignore in scientific settings">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common files to ignore in scientific settings
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><strong>Temporary files and output:</strong> Ignore files generated during analysis, like log files, temporary files, or intermediate data files.</li>
<li><strong>Data folders:</strong> Exclude large datasets or data stored locally.</li>
<li><strong>Environment-specific files:</strong> Exclude environment-specific files like <code>.env</code> files or <code>venv</code> folders used for local development setups.</li>
<li><strong>System-specific files:</strong> In macOS, ignore <code>.DS_Store</code> files, and in Windows, ignore <code>Thumbs.db</code> files.</li>
<li><strong>R:</strong> Ignore <code>.Rdata</code> files and <code>/Rplots.pdf</code> generated by R for plotting.</li>
<li><strong>Python:</strong> Ignore <code>.pyc</code> (Python compiled) files and <code>pycache</code> folders.</li>
<li><strong>LaTeX:</strong> Ignore auxiliary files like <code>.aux</code>, <code>.log</code>, <code>.bbl</code>, and <code>.blg</code> files generated during LaTeX compilation.</li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Example `.gitignore` file for an R project">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example <code>.gitignore</code> file for an R project
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># R-specific</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">*.Rproj.user/</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="ex">*.Rhistory</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="ex">.RData</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="ex">.Rproj</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># R package specific</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="ex">.Rcheck/</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="ex">man/*.Rd</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="ex">NAMESPACE</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Temporary files</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="ex">*.bak</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="ex">*.csv~</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="ex">*.html</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="ex">*.pdf</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="co"># RMarkdown-specific</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="ex">*.knit.md</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="ex">*_cache/</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="ex">*_files/</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="co"># R Markdown Notebook</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="ex">*.nb.html</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="co"># RStudio Project Files</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a><span class="ex">*.Rproj</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a><span class="co"># R Environment Variables</span></span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="ex">.Renviron</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a><span class="co"># R dcf file</span></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="ex">DESCRIPTION.meta</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Mac-specific</span></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a><span class="ex">.DS_Store</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="What is the `.DS_Store` file (macOS only)?">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
What is the <code>.DS_Store</code> file (macOS only)?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>.DS_Store</code> is a hidden file created by macOS in every folder to store custom attributes of the folder, such as the position of icons or the choice of a background image. The filename stands for ‚ÄúDesktop Services Store‚Äù and it helps macOS Finder maintain the folder‚Äôs view settings. <code>.DS_Store</code> is very commonly ignored from version control using the <code>.gitignore</code> file, for various reasons:</p>
<ol type="1">
<li><p><strong>Unnecessary for the project</strong>: <code>.DS_Store</code> files contain metadata that are only relevant to the local macOS file system and do not provide any useful information for the project itself. Including them in the repository adds unnecessary clutter.</p></li>
<li><p><strong>Avoiding conflicts</strong>: Since <code>.DS_Store</code> files are automatically generated by macOS, different users may have different versions of <code>.DS_Store</code> files based on their personal Finder settings. Should <code>.DS_Store</code> be tracked by Git, this can lead to unnecessary version conflicts when collaborating on a project.</p></li>
<li><p><strong>Irrelevant for collaborators with another operating system</strong>: Anyone else who is not using macOS (for example, Windows or Linux users) do not need these files and they serve no purpose for them. Including <code>.DS_Store</code> in the repository could confuse contributors who are not using macOS.</p></li>
</ol>
<p>To add <code>.DS_Store</code> to <code>.gitignore</code>, you can include the following line in your <code>.gitignore</code> file:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">.DS_Store</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>This will ensure that any <code>.DS_Store</code> files in the project directory and its subdirectories are ignored by Git and not tracked in the repository.</p>
</div>
</div>
</div>
</section>
</section>
<section id="renaming-files-with-git" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="renaming-files-with-git"><span class="header-section-number">6.8</span> Renaming files with Git</h2>
<p>To rename files in Git, use the <code>git mv</code> command. This command not only renames the file but also stages the change for you, so the renaming is ready to be committed. This method is preferable to renaming the file manually, as it allows Git to track the change seamlessly and eliminates the need to stage both the removal of the old file and the addition of the new file separately. Here is an example:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Code</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode zsh code-with-copy"><code class="sourceCode zsh"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> mv old_filename.txt new_filename.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>After running this command, Git stages the file rename, allowing you to commit the change like any other.</p>
</section>
<section id="tracking-empty-folders" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="tracking-empty-folders"><span class="header-section-number">6.9</span> Tracking empty folders</h2>
<p>Normally, Git does not track empty folders in a repository. However, tracking an empty directory in a Git repository can be useful in some scenarios. For example, you want to track an empty folder as a placeholder for future content or as a way to organize the project more clearly.</p>
<p>A workaround, to get Git to track your empty folder, is adding a hidden <code>.gitkeep</code> file in this folder <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. This not an official Git feature but rather a convention adopted by software developers. That means you could name this file anything, but <code>.gitkeep</code> is used by convention to explicitly state its purpose for keeping otherwise empty folders in Git.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="Use-cases for empty folders in Git repositories for scientific projects">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Use-cases for empty folders in Git repositories for scientific projects
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>As discussed above, Git is not suitable for tracking a lot of large files, as is often the case when working with research data. Imagine that you use Git for your code that you use to analyze data from a research project. Usually, your analysis code needs access to the research data but you think that the research data is too large to be tracked with Git.</p>
<p>Here is what you could do:</p>
<ol type="1">
<li>Create an empty subfolder in your analysis Git repo, called <code>data</code>.</li>
<li>Add a <code>.gitkeep</code> file to the <code>/data</code> folder and commit it.</li>
<li>Add the <code>/data</code> folder to your <code>.gitignore</code> file.</li>
<li>Add your research data to the <code>/data</code> folder.</li>
</ol>
<p>This is the result: Your analysis code and research data can now live in the same repository. Your analysis code can access your research data in the <code>/data</code> folder. However, the contents of <code>/data</code> are not committed to the repository, thanks to the <code>.gitignore</code> file. If you later share that repository with collaborators, they will only receive a repository with an empty <code>/data</code> folder, thanks to <code>.gitkeep</code>. The advantage is that your collaborators can easily understand where to put the research data. Note, however, that you still need to make the research data accessible to your collaborators in another way.</p>
<p>If you are interested in version control of larger datasets, you can check out <a href="https://handbook.datalad.org/en/latest/">DataLad</a>.</p>
</div>
</div>
</div>
</section>
<section id="cheatsheet" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="cheatsheet"><span class="header-section-number">6.10</span> Cheatsheet</h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Command</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>git log</code></td>
<td style="text-align: left;">Views past commits</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git diff</code></td>
<td style="text-align: left;">Views made changes compared to the last commit</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git mv</code></td>
<td style="text-align: left;">Renames or moves files and automatically stages the changes</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="acknowledgements-further-reading" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="acknowledgements-further-reading"><span class="header-section-number">6.11</span> Acknowledgements &amp; further reading</h2>
<p>We would like to express our gratitude to the following resources, which have been essential in shaping this chapter. We recommend these references for further reading:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Authors</th>
<th style="text-align: left;">Title</th>
<th style="text-align: left;">Website</th>
<th style="text-align: left;">License</th>
<th style="text-align: left;">Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="citation" data-cites="community2022">The Turing Way Community (<a href="../misc/references.html#ref-community2022" role="doc-biblioref">2022</a>)</span></td>
<td style="text-align: left;">The Turing Way: A handbook for reproducible, ethical and collaborative research</td>
<td style="text-align: left;"><a href="https://the-turing-way.netlify.app/"><i class="fa-solid fa-display" aria-label="display"></i></a></td>
<td style="text-align: left;"><a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></td>
<td style="text-align: left;"><a href="https://github.com/the-turing-way/the-turing-way"><i class="fa-brands fa-github" aria-label="github"></i></a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="citation" data-cites="millman2018">Millman et al. (<a href="../misc/references.html#ref-millman2018" role="doc-biblioref">2018</a>)</span></td>
<td style="text-align: left;">Teaching Computational Reproducibility for Neuroimaging</td>
<td style="text-align: left;"><a href="http://dx.doi.org/10.3389/fnins.2018.00727"><i class="fa-solid fa-display" aria-label="display"></i></a></td>
<td style="text-align: left;"><a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Website: </td>
<td style="text-align: left;"><a href="License:%20\href%7Bhttps://creativecommons.org/licenses/by/4.0/%7D%7BCC%20BY%204.0%7D.%20Website:%20\url%7Bhttp://dx.doi.org/10.3389/fnins.2018.00727%7D"><i class="fa-brands fa-github" aria-label="github"></i></a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="citation" data-cites="mcbain2019">McBain (<a href="../misc/references.html#ref-mcbain2019" role="doc-biblioref">2019</a>)</span></td>
<td style="text-align: left;">Git for Scientists</td>
<td style="text-align: left;"><a href="https://milesmcbain.github.io/git_4_sci/"><i class="fa-solid fa-display" aria-label="display"></i></a></td>
<td style="text-align: left;"><a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></td>
<td style="text-align: left;"><a href="https://github.com/MilesMcBain/git_4_sci/"><i class="fa-brands fa-github" aria-label="github"></i></a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="citation" data-cites="bryan2023">Bryan (<a href="../misc/references.html#ref-bryan2023" role="doc-biblioref">2023</a>)</span></td>
<td style="text-align: left;">Happy Git and GitHub for the useR</td>
<td style="text-align: left;"><a href="https://happygitwithr.com/"><i class="fa-solid fa-display" aria-label="display"></i></a></td>
<td style="text-align: left;"><a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></td>
<td style="text-align: left;"><a href="https://github.com/jennybc/happy-git-with-r"><i class="fa-brands fa-github" aria-label="github"></i></a></td>
</tr>
</tbody>
</table>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-bryan2023" class="csl-entry" role="listitem">
Bryan, Jenny. 2023. <em>Happy Git and GitHub for the useR</em>. Jenny Bryan. <a href="https://happygitwithr.com">https://happygitwithr.com</a>. License: <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>. Source: <a href="https://github.com/jennybc/happy-git-with-r" class="uri">https://github.com/jennybc/happy-git-with-r</a>. Website: <a href="https://happygitwithr.com/" class="uri">https://happygitwithr.com/</a>.
</div>
<div id="ref-mcbain2019" class="csl-entry" role="listitem">
McBain, Miles. 2019. <span>‚ÄúGit for Scientists.‚Äù</span> <a href="https://milesmcbain.github.io/git_4_sci/">https://milesmcbain.github.io/git_4_sci/</a>. License: <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>. Source: <a href="https://github.com/MilesMcBain/git_4_sci/" class="uri">https://github.com/MilesMcBain/git_4_sci/</a>. Website: <a href="https://milesmcbain.github.io/git_4_sci/" class="uri">https://milesmcbain.github.io/git_4_sci/</a>.
</div>
<div id="ref-millman2018" class="csl-entry" role="listitem">
Millman, K. Jarrod, Matthew Brett, Ross Barnowski, and Jean-Baptiste Poline. 2018. <span>‚ÄúTeaching Computational Reproducibility for Neuroimaging.‚Äù</span> <em>Frontiers in Neuroscience</em> 12 (October). <a href="https://doi.org/10.3389/fnins.2018.00727">https://doi.org/10.3389/fnins.2018.00727</a>. License: <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Website: <a href="http://dx.doi.org/10.3389/fnins.2018.00727" class="uri">http://dx.doi.org/10.3389/fnins.2018.00727</a>.
</div>
<div id="ref-community2022" class="csl-entry" role="listitem">
The Turing Way Community. 2022. <em>The Turing Way: A Handbook for Reproducible, Ethical and Collaborative Research</em>. Zenodo. <a href="https://doi.org/10.5281/zenodo.3233853">https://doi.org/10.5281/zenodo.3233853</a>. License: <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. Source: <a href="https://github.com/the-turing-way/the-turing-way" class="uri">https://github.com/the-turing-way/the-turing-way</a>. Website: <a href="https://the-turing-way.netlify.app/" class="uri">https://the-turing-way.netlify.app/</a>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p><span class="emoji" data-emoji="bulb">üí°</span> Tip: Use <code>touch .gitkeep</code> (details <a href="../chapters/command-line.html#creating-files">here</a>)<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script defer="" data-domain="lennartwittkuhn.com/version-control-book" src="https://plausible.io/js/script.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/lennartwittkuhn\.com\/version-control-book");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/first-steps-git.html" class="pagination-link" aria-label="First steps with Git">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">First steps with Git</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/branches.html" class="pagination-link" aria-label="Branches">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Branches</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>¬© 2023 ‚Äì 2024 <a href="https://github.com/lnnrtwttkhn/version-control-book?tab=readme-ov-file#contributors">The Version Control Book Team</a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link active" href="../misc/acknowledgements.html" aria-current="page">
<p>Acknowledgements</p>
</a>
  </li>  
</ul>
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/lnnrtwttkhn/version-control-book/edit/main/chapters/git-essentials.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/lnnrtwttkhn/version-control-book/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/lnnrtwttkhn/version-control-book/blob/main/chapters/git-essentials.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></p>
</div>
  </div>
</footer>




</body></html>